(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{130:function(e,t,s){"use strict";s.d(t,"a",(function(){return T}));var n=s(50),a=s.n(n),r=s(51),i=s.n(r),l=s(52),c=s.n(l),u=s(53),o=s.n(u),h=s(55),d=s.n(h),m=s(54),f=s.n(m),v=s(0),p=s.n(v),T=(s(20),function(e){function t(e){var s;return a()(this,t),(s=c()(this,o()(t).call(this,e))).state={currentTest:0,remindFinishTest:!1},s.results=[],s.handleSubmit=s.handleSubmit.bind(d()(s)),s.handleSkip=s.handleSkip.bind(d()(s)),s.handleRedo=s.handleRedo.bind(d()(s)),s.testIframe=p.a.createRef(),s}return f()(t,e),i()(t,[{key:"handleSkip",value:function(){this.state.currentTest===this.props.tests.length-1?this.props.finishRun(this.results):this.setState({currentTest:this.state.currentTest+1})}},{key:"handleSubmit",value:function(){var e=this.testIframe.current.contentDocument.querySelector("#__ariaatharness__results__");e?(this.results.push(JSON.parse(e.innerHTML)),this.state.currentTest===this.props.tests.length-1?this.props.finishRun(this.results):this.setState({currentTest:this.state.currentTest+1,remindFinishTest:!1})):this.setState({remindFinishTest:!0})}},{key:"handleRedo",value:function(){"undefined"!=typeof document&&document.getElementById("testfile").contentWindow.location.reload()}},{key:"render",value:function(){var e=this.props,t=e.tests,s=e.at,n=e.browser,a=t[this.state.currentTest];return s||(s="JAWS"),p.a.createElement("section",null,p.a.createElement("p",null,"Screen reader: ",s,", browser: ",n),p.a.createElement("h1",null,"Current test (",this.state.currentTest+1," of ",t.length,"): ",a.fullName),p.a.createElement("iframe",{id:"testfile",src:"../tests".concat(a.location,"?at=").concat(s),ref:this.testIframe}),p.a.createElement("button",{onClick:this.handleRedo},"Redo Test"),p.a.createElement("button",{onClick:this.handleSkip},"Skip Test"),p.a.createElement("button",{onClick:this.handleSubmit},"Submit Results"),this.state.remindFinishTest&&p.a.createElement("p",{className:"test-incomplete",tabIndex:"0"},"Current test not completed, finish marking behavior results."))}}]),t}(v.Component))},59:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),r=s(15),i=(s(24),s(50)),l=s.n(i),c=s(51),u=s.n(c),o=s(52),h=s.n(o),d=s(53),m=s.n(d),f=s(55),v=s.n(f),p=s(54),T=s.n(p),b=function(e){function t(e){var s;l()(this,t),s=h()(this,m()(t).call(this,e));var n={};for(var r in e.allTests){n[r]={};var i=!0,c=!1,u=void 0;try{for(var o,d=e.allTests[r][Symbol.iterator]();!(i=(o=d.next()).done);i=!0){var f=o.value;n[r][f.name]=!1}}catch(p){c=!0,u=p}finally{try{i||null==d.return||d.return()}finally{if(c)throw u}}}return s.state={selectedTests:n,at:s.props.ats[0]},s.selectTestEl=a.a.createRef(),s.runTests=s.runTests.bind(v()(s)),s.selectTest=s.selectTest.bind(v()(s)),s.selectAT=s.selectAT.bind(v()(s)),s}return T()(t,e),u()(t,[{key:"selectAT",value:function(e){this.setState({at:e.target.value})}},{key:"selectTest",value:function(e){var t=Object.assign({},this.state.selectedTests),s=e.target.name;if(0===s.indexOf("all-")){var n=s.slice(4),a=e.target.checked;for(var r in t[n])t[n][r]=a}else{var i=s.split("_")[0],l=s.split("_")[1],c=e.target.checked;t[i][l]=c}this.setState({selectedTests:t})}},{key:"runTests",value:function(e){var t=this.props.allTests,s=[];for(var n in t){var a=!0,r=!1,i=void 0;try{for(var l,c=t[n][Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;this.state.selectedTests[n][u.name]&&s.push(u)}}catch(o){r=!0,i=o}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}}s.length?this.props.startRun({tests:s,at:this.state.at}):this.selectTestEl.current.focus()}},{key:"isDesignPatternChecked",value:function(e){var t=!0;for(var s in this.state.selectedTests[e])t=t&&this.state.selectedTests[e][s];return t}},{key:"renderDesignPatternSelectable",value:function(e,t){var s=this,n=this.isDesignPatternChecked(e),r="all-".concat(e);return a.a.createElement("details",{className:"design-pattern-options",key:e},a.a.createElement("summary",{className:"configuration-item"},a.a.createElement("input",{type:"checkbox",id:r,name:r,checked:n,onChange:this.selectTest}),a.a.createElement("label",{htmlFor:r},"Run all tests for desing pattern: ",e)),a.a.createElement("ul",{className:"select-test-list"},t.map((function(t){return s.renderTestSelectable(e,t)}))))}},{key:"renderTestSelectable",value:function(e,t){var s="".concat(e,"_").concat(t.name),n=this.state.selectedTests[e][t.name];return a.a.createElement("li",{className:"select-test-item",key:t.location},a.a.createElement("input",{type:"checkbox",id:s,name:s,checked:n,onChange:this.selectTest}),a.a.createElement("label",{htmlFor:s,title:t.fullName,className:"engine-label"},t.fullName," ",a.a.createElement("div",{className:"test-details"},t.location.slice(1))))}},{key:"render",value:function(){var e=this,t=this.props,s=t.allTests,n=t.ats,r=t.browser;return a.a.createElement("section",null,a.a.createElement("h1",null,"It's test time!"),a.a.createElement("div",{ref:this.selectTestEl,tabIndex:"0"},"Select at least one test to run:"),Object.keys(s).map((function(t){return e.renderDesignPatternSelectable(t,s[t])})),a.a.createElement("div",{className:"configuration-item"},a.a.createElement("label",{htmlFor:"select-at"},"Select which assistive technology you are testing:"),a.a.createElement("select",{name:"at",id:"select-at",value:this.state.value,onChange:this.selectAT},n.map((function(e){return a.a.createElement("option",{value:e,key:e},e)})))),a.a.createElement("div",{className:"configuration-item"},"Saving results for UserAgent: ",a.a.createElement("span",{className:"us"},r)),a.a.createElement("button",{onClick:this.runTests},"Run Selected Tests"))}}]),t}(n.Component),g=(s(20),function(e){function t(e){return l()(this,t),h()(this,m()(t).call(this,e))}return T()(t,e),u()(t,[{key:"render",value:function(){var e=this.props;e.results,e.at,e.browser;return console.log(t),a.a.createElement("h1",null,"Results!!")}}]),t}(n.Component)),y=s(130),k=s(131),E=s.n(k),R=function(e){function t(e){var s;if(l()(this,t),(s=h()(this,m()(t).call(this,e))).state={stage:"configureRun"},s.tests=[],s.results=[],s.browser="","undefined"!=typeof window){var n=E.a.getParser(window.navigator.userAgent);s.browser="".concat(n.getBrowser().name," (").concat(n.getBrowser().version,")")}return s.finishRun=s.finishRun.bind(v()(s)),s.startRun=s.startRun.bind(v()(s)),s}return T()(t,e),u()(t,[{key:"startRun",value:function(e){this.tests=e.tests,this.at=e.at,this.setState({stage:"runTests"})}},{key:"finishRun",value:function(e){this.results=e,this.setState({stage:"displayResults"})}},{key:"renderTestRun",value:function(){return a.a.createElement(y.a,{tests:this.tests,browser:this.browser,at:this.state.at,finishRun:this.finishRun})}},{key:"renderConfigureRun",value:function(){return a.a.createElement(b,{ats:this.props.ats,allTests:this.props.allTests,startRun:this.startRun,browser:this.browser})}},{key:"renderResults",value:function(){return a.a.createElement(g,{results:this.results,at:this.state.at,browser:this.browser})}},{key:"render",value:function(){return a.a.createElement(n.Fragment,null,"configureRun"===this.state.stage&&this.renderConfigureRun(),"runTests"===this.state.stage&&this.renderTestRun(),"displayResults"===this.state.stage&&this.renderResults())}}]),t}(n.Component);function S(){var e=Object(r.useRouteData)(),t=e.allTests,s=e.ats;return a.a.createElement("div",null,a.a.createElement(R,{allTests:t,ats:s}))}s.d(t,"default",(function(){return S}))}}]);